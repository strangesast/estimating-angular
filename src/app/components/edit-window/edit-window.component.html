<div>
  <div *ngIf="isWindow" class="header">
    <div>
      <span class="fa" [ngClass]="type | typeToClass"></span>
      <span *ngIf="_element" class="hoverlink" (click)="toggleOpen()">{{ _element.name }}</span>
      <span *ngIf="!_element">Loading...</span>
    </div>
    <div>
      <span class="hoverlink fa fa-remove" (click)="onClose()"></span>
    </div>
  </div>
  <div *ngIf="!isWindow">
    <h1>{{ _element ? _element.name : 'New Element' }}</h1>
  </div>
  <div *ngIf="!isWindow || config.open" class="body">
    <p>More about this object</p>
    <form (ngSubmit)="onSubmit(form)" [formGroup]="form">
      <div class="form-control">
        <label>Name:</label>
        <input formControlName="name" type="text">
      </div>
      <div class="form-control">
        <label>Description:</label>
        <textarea formControlName="description"></textarea>
      </div>
      <div *ngIf="type === 'child'" class="form-control">
        <label>Qty:</label>
        <input formControlName="qty" type="number">
      </div>
      <button type="submit" [disabled]="form.invalid || !form.dirty">Update</button>
      <button type="button" (click)="reset()" [disabled]="!form.dirty">Reset</button>

    </form>
    <div *ngIf="type === 'child' && _element && _element.data">
      <div>Component</div>
      <label>Name:</label>
      <div>{{ _element.data.name }}</div>
      <label>Description:</label>
      <div>{{ _element.data.description }}</div>
      <label>Sell:</label>
      <div>{{ _element.data.sell | currency:'USD':true}}</div>
      <label>Buy:</label>
      <div>{{ _element.data.buy | currency:'USD':true}}</div>
    </div>
  </div>
</div>
